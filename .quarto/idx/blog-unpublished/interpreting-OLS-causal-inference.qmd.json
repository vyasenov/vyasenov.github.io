{"title":"Interpreting OLS Estimates for Causal Inference","markdown":{"yaml":{"title":"Interpreting OLS Estimates for Causal Inference","date":"2025-00-00","categories":["causal inference","linear model"]},"headingText":"Background","containsRefs":false,"markdown":"\n\n- use the model by Aronow and Samii but that’s asymptotically\n- Zubisaretta show a finite sample formula\n- Sloczynski focuses on heterogeneous. Show it briefly\n- Angrist focuses on saturated models. impossible with continuous X\n- OLS regressions do not implicitly assume PO framework\n\n\nOrdinary Least Squares (OLS) regression is a staple in the toolkit of data scientists and statisticians. However, its application in causal inference, especially in observational studies, requires a nuanced understanding of its limitations and the implications of its estimates. In applied research, Ordinary Least Squares (OLS) is often the workhorse method for estimating causal effects from observational data. Its popularity comes from its simplicity and the appealing property that—when treatment effects are homogeneous—it recovers the average treatment effect (ATE) under standard assumptions. However, in practice, treatment effects are frequently heterogeneous. This heterogeneity means that the impact of a treatment can vary across individuals, and as a result, the standard OLS estimator does not simply estimate the ATE. Instead, it implicitly assigns weights to different subpopulations (e.g., the treated and the untreated), and these weights can be quite counterintuitive.\n\nTwo recent papers help us understand this phenomenon in detail. Chattopadhyay and Zubizarreta (2022) focuses on deriving closed-form expressions for the implied weights of linear regression estimators. Their analysis shows how, even when treatment effects are homogeneous, the regression adjustment does not “treat” every observation equally—it rather targets a specific covariate profile that may differ from the sample average. On the other hand, Słoczyński (2022) takes a closer look at the scenario with heterogeneous treatment effects. He demonstrates that the OLS treatment coefficient is actually a convex combination of the average treatment effects on the treated (ATT) and the untreated (ATU), and, quite surprisingly, the weights assigned to these groups are inversely related to their sample proportions.\n\nThis article aims to delve into the interpretation of OLS estimates for causal inference, focusing on the implied weights of linear regression and the impact of treatment effect heterogeneity. The goal of this article is to unpack these findings in detail, explain the underlying mathematical structure, and provide intuition for why OLS behaves the way it does in causal inference settings.\n\n## Notation\n\nLet’s start by setting up our notation in the familiar potential outcomes framework. Suppose we have a sample $\\{ \\,Y_i, D_i, X_i \\} \\,_{i=1}^n$, where:\n\n- $Y_i$ is the observed outcome for unit $i$\n- $Y_i(0), Y_i(1)$ are the potential outcomes for unit $i$ if in control and treatment, respectively.\n- $D_i$ indicates treatment ($D_i=1$ for treated units, and $D_i=0$ for controls)\n- $X_i$ is a vector of covariates\n\nThe conventional OLS regression model is written as:\n\n  $$Y_i=\\alpha + \\tau D_i +X_i \\beta + \\epsilon_i,$$\n\nwhere $\\epsilon$ is a mean-zero error term and $\\tau$ is typically interpreted as the causal effect of the treatment.\n\nThe key causal estimants (i.e., target parameters) are:\n\n- **Average Treatment Effect** (ATE): $E\\left[Y(1)-Y(0)\\right]$,\n- **Average Treatment Effect on the Treated** (ATT): $E\\left[Y(1)-Y(0)\\mid D=1 \\right]$,\n- **Averate Treatment effect on the Control** (ATC): $E\\left[Y(1)-Y(0) \\mid D=0 \\right]$.\n\nLastly, it is common to introduce the propensity score $p(X)=E\\left[D\\mid X\\right]$ or its best linear approximation, which plays a central role in understanding the weights that OLS assigns.\n\n## A Closer Look\n\n### Homogeneous Treatment Effects\n\nexplore how linear regression adjustments in observational studies emulate key features of randomized experiments. The main focus is on Section 3, where they derive the implied weights of various linear regression estimators.\n\nThe authors show that the OLS estimator of the ATE can be expressed as a difference of weighted means of the treated and control outcomes. Specifically, they provide closed-form expressions for the implied regression weights. For instance, the URI (uni-regression imputation) estimator of the ATE is given by:\n\n  $$\\hat{\\tau}_{\\text{OLS}}=\\sum_{i:D=1} w_i ^{\\text{URI}}Y_i - \\sum_{i:D=0} w_i^{\\text{URI}}Y_i$$\n\nwhere the weights $w_i ^{\\text{URI}}$ depend on the covariates and treatment indicators but not on the observed outcomes. This weighting representation shows that linear regression can be “fit” without the outcomes, aligning it with the design stage of an observational study.\n\nThe paper also discusses the properties of these implied weights, such as covariate balance, representativeness, dispersion, and optimality. For example, the URI and MRI (multi-regression imputation) weights exactly balance the means of the covariates included in the model, ensuring that the regression adjustments emulate the covariate balance of a randomized experiment.\n\n### Heterogeneous Treatment Effects\n\nSłoczyński’s paper tackles the same question in the world of heterogeneous treatment effects. The key result is that the OLS treatment coefficient is a convex combination of the average treatment effects on the treated (ATT) and untreated (ATU), with weights inversely related to the proportion of observations in each group.\n\nThe scenario becomes even more intricate when treatment effects vary across individuals. Słoczyński (2022) takes on this challenge by examining the causal interpretation of the OLS estimand when treatment effects are heterogeneous. He shows that the OLS treatment coefficient can be decomposed as a convex combination of two group-specific effects:\n\nMathematically, the OLS estimand \\tau can be expressed as:\n\n  $$\\hat{\\tau}_{\\text{OLS}}=w_1 \\times \\text{ATT} + w_0 \\times \\text{ATC},$$\n\nwhere $w_1 = \\frac{1}{1}=f(\\rho, p(X))$ and $w_0 = 1 -w_1$.\n\nThis result highlights that OLS places more weight on the group with fewer observations, which can lead to substantial biases when interpreting the OLS estimand as the ATE or ATT.\n\nSłoczyński provides diagnostic tools to detect these biases, emphasizing that OLS might often be substantially biased for ATE, ATT, or both. He suggests using alternative estimators or diagnostic methods to avoid potential biases in applied work.\n\n## Bottom Line\n\n- Linear regression remains among the most popular ways to estimate treatment effects in causal inference\n\n- It implicitly weights individual observations, which can be represented in closed-form expressions.\n\n- OLS estimates can be biased when treatment effects are heterogeneous, with smaller groups receiving larger weights.\n\n## References\n\nAngrist, J. D., & Krueger, A. B. (1999). Empirical strategies in labor economics. In Handbook of labor economics (Vol. 3, pp. 1277-1366). Elsevier.\n\nAngrist, J. D., & Pischke, J. S. (2009). Mostly harmless econometrics: An empiricist’s companion. Princeton university press.\n\nAronow, P. M., & Samii, C. (2016). Does regression produce representative estimates of causal effects?. American Journal of Political Science, 60(1), 250-267.\n\nChattopadhyay, A., & Zubizarreta, J. R. (2023). On the implied weights of linear regression for causal inference. Biometrika, 110(3), 615-629.\n\nHumphreys, M. (2009). Bounds on least squares estimates of causal effects in the presence of heterogeneous assignment probabilities. Manuscript, Columbia University.\n\nSłoczyński, T. (2022). Interpreting OLS estimands when treatment effects are heterogeneous: Smaller groups get larger weights. The Review of Economics and Statistics, 104(3), 501-509.","srcMarkdownNoYaml":"\n\n- use the model by Aronow and Samii but that’s asymptotically\n- Zubisaretta show a finite sample formula\n- Sloczynski focuses on heterogeneous. Show it briefly\n- Angrist focuses on saturated models. impossible with continuous X\n- OLS regressions do not implicitly assume PO framework\n\n## Background\n\nOrdinary Least Squares (OLS) regression is a staple in the toolkit of data scientists and statisticians. However, its application in causal inference, especially in observational studies, requires a nuanced understanding of its limitations and the implications of its estimates. In applied research, Ordinary Least Squares (OLS) is often the workhorse method for estimating causal effects from observational data. Its popularity comes from its simplicity and the appealing property that—when treatment effects are homogeneous—it recovers the average treatment effect (ATE) under standard assumptions. However, in practice, treatment effects are frequently heterogeneous. This heterogeneity means that the impact of a treatment can vary across individuals, and as a result, the standard OLS estimator does not simply estimate the ATE. Instead, it implicitly assigns weights to different subpopulations (e.g., the treated and the untreated), and these weights can be quite counterintuitive.\n\nTwo recent papers help us understand this phenomenon in detail. Chattopadhyay and Zubizarreta (2022) focuses on deriving closed-form expressions for the implied weights of linear regression estimators. Their analysis shows how, even when treatment effects are homogeneous, the regression adjustment does not “treat” every observation equally—it rather targets a specific covariate profile that may differ from the sample average. On the other hand, Słoczyński (2022) takes a closer look at the scenario with heterogeneous treatment effects. He demonstrates that the OLS treatment coefficient is actually a convex combination of the average treatment effects on the treated (ATT) and the untreated (ATU), and, quite surprisingly, the weights assigned to these groups are inversely related to their sample proportions.\n\nThis article aims to delve into the interpretation of OLS estimates for causal inference, focusing on the implied weights of linear regression and the impact of treatment effect heterogeneity. The goal of this article is to unpack these findings in detail, explain the underlying mathematical structure, and provide intuition for why OLS behaves the way it does in causal inference settings.\n\n## Notation\n\nLet’s start by setting up our notation in the familiar potential outcomes framework. Suppose we have a sample $\\{ \\,Y_i, D_i, X_i \\} \\,_{i=1}^n$, where:\n\n- $Y_i$ is the observed outcome for unit $i$\n- $Y_i(0), Y_i(1)$ are the potential outcomes for unit $i$ if in control and treatment, respectively.\n- $D_i$ indicates treatment ($D_i=1$ for treated units, and $D_i=0$ for controls)\n- $X_i$ is a vector of covariates\n\nThe conventional OLS regression model is written as:\n\n  $$Y_i=\\alpha + \\tau D_i +X_i \\beta + \\epsilon_i,$$\n\nwhere $\\epsilon$ is a mean-zero error term and $\\tau$ is typically interpreted as the causal effect of the treatment.\n\nThe key causal estimants (i.e., target parameters) are:\n\n- **Average Treatment Effect** (ATE): $E\\left[Y(1)-Y(0)\\right]$,\n- **Average Treatment Effect on the Treated** (ATT): $E\\left[Y(1)-Y(0)\\mid D=1 \\right]$,\n- **Averate Treatment effect on the Control** (ATC): $E\\left[Y(1)-Y(0) \\mid D=0 \\right]$.\n\nLastly, it is common to introduce the propensity score $p(X)=E\\left[D\\mid X\\right]$ or its best linear approximation, which plays a central role in understanding the weights that OLS assigns.\n\n## A Closer Look\n\n### Homogeneous Treatment Effects\n\nexplore how linear regression adjustments in observational studies emulate key features of randomized experiments. The main focus is on Section 3, where they derive the implied weights of various linear regression estimators.\n\nThe authors show that the OLS estimator of the ATE can be expressed as a difference of weighted means of the treated and control outcomes. Specifically, they provide closed-form expressions for the implied regression weights. For instance, the URI (uni-regression imputation) estimator of the ATE is given by:\n\n  $$\\hat{\\tau}_{\\text{OLS}}=\\sum_{i:D=1} w_i ^{\\text{URI}}Y_i - \\sum_{i:D=0} w_i^{\\text{URI}}Y_i$$\n\nwhere the weights $w_i ^{\\text{URI}}$ depend on the covariates and treatment indicators but not on the observed outcomes. This weighting representation shows that linear regression can be “fit” without the outcomes, aligning it with the design stage of an observational study.\n\nThe paper also discusses the properties of these implied weights, such as covariate balance, representativeness, dispersion, and optimality. For example, the URI and MRI (multi-regression imputation) weights exactly balance the means of the covariates included in the model, ensuring that the regression adjustments emulate the covariate balance of a randomized experiment.\n\n### Heterogeneous Treatment Effects\n\nSłoczyński’s paper tackles the same question in the world of heterogeneous treatment effects. The key result is that the OLS treatment coefficient is a convex combination of the average treatment effects on the treated (ATT) and untreated (ATU), with weights inversely related to the proportion of observations in each group.\n\nThe scenario becomes even more intricate when treatment effects vary across individuals. Słoczyński (2022) takes on this challenge by examining the causal interpretation of the OLS estimand when treatment effects are heterogeneous. He shows that the OLS treatment coefficient can be decomposed as a convex combination of two group-specific effects:\n\nMathematically, the OLS estimand \\tau can be expressed as:\n\n  $$\\hat{\\tau}_{\\text{OLS}}=w_1 \\times \\text{ATT} + w_0 \\times \\text{ATC},$$\n\nwhere $w_1 = \\frac{1}{1}=f(\\rho, p(X))$ and $w_0 = 1 -w_1$.\n\nThis result highlights that OLS places more weight on the group with fewer observations, which can lead to substantial biases when interpreting the OLS estimand as the ATE or ATT.\n\nSłoczyński provides diagnostic tools to detect these biases, emphasizing that OLS might often be substantially biased for ATE, ATT, or both. He suggests using alternative estimators or diagnostic methods to avoid potential biases in applied work.\n\n## Bottom Line\n\n- Linear regression remains among the most popular ways to estimate treatment effects in causal inference\n\n- It implicitly weights individual observations, which can be represented in closed-form expressions.\n\n- OLS estimates can be biased when treatment effects are heterogeneous, with smaller groups receiving larger weights.\n\n## References\n\nAngrist, J. D., & Krueger, A. B. (1999). Empirical strategies in labor economics. In Handbook of labor economics (Vol. 3, pp. 1277-1366). Elsevier.\n\nAngrist, J. D., & Pischke, J. S. (2009). Mostly harmless econometrics: An empiricist’s companion. Princeton university press.\n\nAronow, P. M., & Samii, C. (2016). Does regression produce representative estimates of causal effects?. American Journal of Political Science, 60(1), 250-267.\n\nChattopadhyay, A., & Zubizarreta, J. R. (2023). On the implied weights of linear regression for causal inference. Biometrika, 110(3), 615-629.\n\nHumphreys, M. (2009). Bounds on least squares estimates of causal effects in the presence of heterogeneous assignment probabilities. Manuscript, Columbia University.\n\nSłoczyński, T. (2022). Interpreting OLS estimands when treatment effects are heterogeneous: Smaller groups get larger weights. The Review of Economics and Statistics, 104(3), 501-509."},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../code/styles.css"],"toc":true,"include-in-header":[{"text":"<script src=\"../code/open-links-new-tab.js\"></script>\n"}],"output-file":"interpreting-OLS-causal-inference.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.24","resources":["../code/open-links-new-tab.js"],"theme":{"light":"cosmo","dark":"cyborg"},"page-layout":"full","title":"Interpreting OLS Estimates for Causal Inference","date":"2025-00-00","categories":["causal inference","linear model"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}