{"title":"Hypothesis Testing with Population Data","markdown":{"yaml":{"title":"Hypothesis Testing with Population Data","date":"2022-09-23","categories":["hypothesis testing","statistical inference"]},"headingText":"Background","containsRefs":false,"markdown":"\n\n\nClassical statistical theory is built on the idea of working with a sample of data from a given population of interest. Our software packages compute confidence intervals to reflect precisely this – we observe only a small part of that population.\n\nIn modern times, however, we often work with all data points, and not just random samples. Examples abound, especially in the tech industry. Companies store all sales and website activity, the FBI records all homicides, and school records contain information on all students. \n\nHow can we interpret confidence intervals when we work with such datasets? More generally, how do we think about uncertainty in these settings? We know exactly how many items are sold or how many homicides occur each year; nothing is uncertain about that.\n\nThe short answer is that the confidence intervals in this setting have a fundamentally different interpretation – one reflecting parameters of an underlying metaphorical population.\n\n## A Closer Look\n\n### An Example\n\nLet’s focus on a specific example – homicides in the US. According to the Crime in the US report published by the FBI, in 2018, there were $14,123$ homicides, and for 2019 this number was $13,927$. This is a decrease of $196$ cases, or roughly equivalent to a $1.4\\%$ drop.\n\nMother nature and the world around us are incredibly complex, so numbers around us can go up and down for no obvious reason. So, does this drop reflect a real change in the underlying crime rate?\n\nTo answer this question, it is helpful to model annual homicides as coming from a Poisson distribution from a figurative population of alternative US histories. This distribution has a mean $\\lambda$ equal to the hypothetical true underlying homicide rate. We want to know whether $\\lambda$ changed from 2018 to 2019.\n\nThe confidence interval for the change in this underlying homicide rate is:\n\n$$ (14,123-13,927) \\pm 1.96 \\times \\sqrt{14,123+13,927}=(-132.26, 524.26). $$\n\nThis interval clearly contains $0$, so we cannot conclude that there was a real drop in the crime rate between 2018 and 2019. In other words, the $1.4\\%$ drop in homicides between 2018 and 2019 was within the range consistent with the noise in our world. It should not be confused with increased underlying safety in the US.\n\n### One More Thing\n\nThis type of thinking is also helpful in a slightly different context. Let’s focus on 2018, when there were $14,123$ homicides in the US, corresponding to an average daily rate of about $38.7$ cases.\n\nImagine someone asked us to calculate the probability that there would be less than $25$ cases on a given day, but no such day took place in 2018. It would still be naïve to conclude that the probability of this event was zero.\n\nWe can look at the left tail of the Poisson distribution with mean $\\lambda = 38.7$ to answer this question:\n\n:::: {.panel-tabset}\n\n### R\n```r\nppois(25, lambda=38.7)\n>[1] 0.01270669\n```\n\n### Python\n```python\nfrom scipy.stats import poisson\n\n# Define the mean of the Poisson distribution\nlambda_value = 38.7\n\n# Calculate the cumulative probability for less than 25 cases\nprobability = poisson.cdf(25, mu=lambda_value)\nprint(probability)\n>[1] 0.01270669\n```\n\n::::\n\nThis gives us a $1.27%$ probability of such an event, suggesting that, on average, there should be about $4.6$ such days per year. Data would not help answer this question.\n\n## Bottom Line\n\n- Working with all data eliminates the uncertainty that usually arises in random samples.\n\n- Confidence intervals in such settings are still meaningful – they represent uncertainty associated with the underlying parameters of a metaphorical population.\n\n## Where to Learn More\n\nThis article was inspired by \"The Art of Statistics\" (2019) which beautifully explains an impressively wide range of statistical topics in an engaging way. It is a non-technical read accessible to everyone interested in combining statistics and data to make inferences about the world.\n\n## References\n\nThe FBI (2018) Crime in the US.\n\nThe FBI (2019) Crime in the US.\n\nSpiegelhalter, D. (2019). The art of statistics: Learning from data. Penguin UK.","srcMarkdownNoYaml":"\n\n## Background\n\nClassical statistical theory is built on the idea of working with a sample of data from a given population of interest. Our software packages compute confidence intervals to reflect precisely this – we observe only a small part of that population.\n\nIn modern times, however, we often work with all data points, and not just random samples. Examples abound, especially in the tech industry. Companies store all sales and website activity, the FBI records all homicides, and school records contain information on all students. \n\nHow can we interpret confidence intervals when we work with such datasets? More generally, how do we think about uncertainty in these settings? We know exactly how many items are sold or how many homicides occur each year; nothing is uncertain about that.\n\nThe short answer is that the confidence intervals in this setting have a fundamentally different interpretation – one reflecting parameters of an underlying metaphorical population.\n\n## A Closer Look\n\n### An Example\n\nLet’s focus on a specific example – homicides in the US. According to the Crime in the US report published by the FBI, in 2018, there were $14,123$ homicides, and for 2019 this number was $13,927$. This is a decrease of $196$ cases, or roughly equivalent to a $1.4\\%$ drop.\n\nMother nature and the world around us are incredibly complex, so numbers around us can go up and down for no obvious reason. So, does this drop reflect a real change in the underlying crime rate?\n\nTo answer this question, it is helpful to model annual homicides as coming from a Poisson distribution from a figurative population of alternative US histories. This distribution has a mean $\\lambda$ equal to the hypothetical true underlying homicide rate. We want to know whether $\\lambda$ changed from 2018 to 2019.\n\nThe confidence interval for the change in this underlying homicide rate is:\n\n$$ (14,123-13,927) \\pm 1.96 \\times \\sqrt{14,123+13,927}=(-132.26, 524.26). $$\n\nThis interval clearly contains $0$, so we cannot conclude that there was a real drop in the crime rate between 2018 and 2019. In other words, the $1.4\\%$ drop in homicides between 2018 and 2019 was within the range consistent with the noise in our world. It should not be confused with increased underlying safety in the US.\n\n### One More Thing\n\nThis type of thinking is also helpful in a slightly different context. Let’s focus on 2018, when there were $14,123$ homicides in the US, corresponding to an average daily rate of about $38.7$ cases.\n\nImagine someone asked us to calculate the probability that there would be less than $25$ cases on a given day, but no such day took place in 2018. It would still be naïve to conclude that the probability of this event was zero.\n\nWe can look at the left tail of the Poisson distribution with mean $\\lambda = 38.7$ to answer this question:\n\n:::: {.panel-tabset}\n\n### R\n```r\nppois(25, lambda=38.7)\n>[1] 0.01270669\n```\n\n### Python\n```python\nfrom scipy.stats import poisson\n\n# Define the mean of the Poisson distribution\nlambda_value = 38.7\n\n# Calculate the cumulative probability for less than 25 cases\nprobability = poisson.cdf(25, mu=lambda_value)\nprint(probability)\n>[1] 0.01270669\n```\n\n::::\n\nThis gives us a $1.27%$ probability of such an event, suggesting that, on average, there should be about $4.6$ such days per year. Data would not help answer this question.\n\n## Bottom Line\n\n- Working with all data eliminates the uncertainty that usually arises in random samples.\n\n- Confidence intervals in such settings are still meaningful – they represent uncertainty associated with the underlying parameters of a metaphorical population.\n\n## Where to Learn More\n\nThis article was inspired by \"The Art of Statistics\" (2019) which beautifully explains an impressively wide range of statistical topics in an engaging way. It is a non-technical read accessible to everyone interested in combining statistics and data to make inferences about the world.\n\n## References\n\nThe FBI (2018) Crime in the US.\n\nThe FBI (2019) Crime in the US.\n\nSpiegelhalter, D. (2019). The art of statistics: Learning from data. Penguin UK."},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../code/styles.css"],"toc":true,"include-in-header":[{"text":"<script src=\"../code/open-links-new-tab.js\"></script>\n"}],"output-file":"hypothesis-testing-all-data.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.24","resources":["../code/open-links-new-tab.js"],"theme":{"light":"cosmo","dark":"cyborg"},"page-layout":"full","title":"Hypothesis Testing with Population Data","date":"2022-09-23","categories":["hypothesis testing","statistical inference"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}